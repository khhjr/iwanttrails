<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iwanttrails.com</title>

    <!-- Meta description and keywords -->
    <meta name="description" content="Professional trail building, mountain bike, and hiking trail
    construction for private landowners across Western NC, including Asheville, Brevard, and Hendersonville.">
    <meta name="keywords" content="trail building Western NC, Asheville trail construction, mountain bike trails
    NC, hiking trail builders North Carolina, backyard trail construction, private land trail builders">

    <!-- DuckDuckGo REQUIRED -->
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <!-- Standard PNG fallback -->
    <link rel="icon" type="image/png" sizes="96x96"
          href="{{ url_for('static', filename='favicon-96x96.png') }}">
    <!-- Apple / Safari -->
    <link rel="apple-touch-icon" sizes="180x180"
          href="{{ url_for('static', filename='apple-touch-icon.png') }}">
    <!-- PWA -->
    <link rel="manifest"
          href="{{ url_for('static', filename='site.webmanifest') }}">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>

    <!-- ======================== -->
    <!-- NAVBAR                   -->
    <!-- ======================== -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-black fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">{{ config.navbar.title }}</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="#abouts">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" data-bs-toggle="modal"
                            data-bs-target="#galleryModal">Gallery</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" data-bs-toggle="modal"
                            data-bs-target="#videosModal">Videos</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ======================== -->
    <!-- BACKGROUND IMAGES        -->
    <!-- ======================== -->
    <style>
        .fixed-bg {
            position: fixed;
            inset: 0;
            z-index: -1;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease;
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
        }

        /* visible background */
        .fixed-bg.active {
            opacity: 1;
        }

        /* scrolling sections */
        .fixed-section {
            min-height: 100dvh;
            position: relative;
        }

        /* ---------- RESPONSIVE IMAGES ---------- */

        /* mobile-first */
        .responsive-bg {
            background-image: var(--bg-mobile);
        }

        /* md ≥ 768px */
        @media (min-width: 768px) {
            .responsive-bg {
                background-image: var(--bg-desktop);
            }
        }

        .modal-padded {
            padding: 2rem;
        }

        @media (max-width: 576px) {
            .modal-padded {
                padding: 1rem;
            }
        }
    </style>

    <!-- Fixed background layers -->
    <div class="fixed-bg active responsive-bg" style="
       --bg-mobile: url('{{ config.home.image_mobile }}');
       --bg-desktop: url('{{ config.home.image }}');
     ">
    </div>
    {% for section in config.sections %}
    <div class="fixed-bg responsive-bg" style="
       --bg-mobile: url('{{ section.image_mobile }}');
       --bg-desktop: url('{{ section.image }}');
     ">
    </div>
    {% endfor %}
    <div class="fixed-bg responsive-bg" style="
       --bg-mobile: url('{{ config.contact.image_mobile }}');
       --bg-desktop: url('{{ config.contact.image }}');
     ">
    </div>


    <!-- ======================== -->
    <!-- HOME SECTION             -->
    <!-- ======================== -->
    <header id="home" class="fixed-section min-vh-100 d-flex align-items-center text-center text-white">
        <div class="container">
            <img src="static/img/logo_top.png" class="d-block w-100 rounded">
        </div>
    </header>


    <!-- ======================== -->
    <!-- CONFIGURABLE SECTIONS    -->
    <!-- ======================== -->
    {% for section in config.sections %}
    <section id="{{ section.href }}" class="fixed-section min-vh-100 d-flex align-items-center text-white">
        <div class="container d-flex justify-content-{{ section.justify_topics }}">
            <div class="frosted-container">
                {% if section.topics|length > 1 %}
                <h1 class="fw-bold mb-4">{{ section.name }}</h1>
                {% for topic in section.topics %}
                <ul class="list-group frosted-list-group mb-3">
                    <li class="list-group-item">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#{{ topic.tag }}Modal">
                            {{ topic.name }}
                        </a>
                    </li>
                </ul>
                {% endfor %}
                {% else %}
                {% for topic in section.topics %}
                <h1><a href="#" data-bs-toggle="modal" data-bs-target="#{{ topic.tag }}Modal">
                        {{ topic.name }}
                </h1></a>
                {% endfor %}
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Modal with carousel -->
    {% for topic in section.topics %}
    <div class="modal fade" id="{{ topic.tag }}Modal" tabindex="-1" aria-labelledby="{{ topic.tag }}Label"
        aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="{{ topic.tag }}Label">{{ topic.name }}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="{{ topic.tag }}Carousel" class="carousel slide mb-3 carousel-fade carousel-dark"
                        data-bs-interval="false">
                        <div class="carousel-inner">
                            {% for image in topic.images %}
                            <div class="carousel-item {% if loop.first %} active {% endif %}">
                                <img src="{{ image.path }}" class="d-block w-100 rounded">
                                {% if image.desc is defined and image.desc|length > 0 %}
                                <div class="carousel-caption-static mt-3 text-center frosted-caption">
                                    <p class="mb-0">{{ image.desc|safe }}</p>
                                </div>
                                {% endif %}
                            </div>
                            {% endfor %}
                            {% for video in topic.videos %}
                            <div class="carousel-item {% if loop.first %} active {% endif %}">
                                <div class="ratio ratio-16x9">
                                    <iframe data-video-id="{{ video.link }}" allow="autoplay; fullscreen"
                                        allowfullscreen></iframe>
                                </div>
                                {% if video.desc is defined and video.desc|length > 0 %}
                                <div class="carousel-caption-static mt-3 text-center frosted-caption">
                                    <p class="mb-0">{{ video.desc }}</p>
                                </div>
                                {% endif %}
                            </div>
                            {% endfor %}
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#{{ topic.tag }}Carousel"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#{{ topic.tag }}Carousel"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
    {% endfor %}

    <!-- ======================== -->
    <!-- CONTACT SECTION          -->
    <!-- ======================== -->
    {% include "contact.html" %}

    <!-- Footer -->
    <footer class="py-3 bg-black text-white text-center">
        <small>
            <a href="https://github.com/khhjr/iwanttrails" target="_blank">YAML dirven portfolio</a><br>
            © 2026 Brook Valley Farm LLC. All rights reserved.
        </small>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/lazy-bootstrap-carousel-v5.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

</body>

</html>